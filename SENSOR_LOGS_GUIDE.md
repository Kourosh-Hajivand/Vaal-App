# ๐ ุฑุงูููุง ูุงฺฏโูุง ุณูุณูุฑ ุฏุฑ Debug Overlay

## โ ุชุบุฑุงุช ุงุนูุงู ุดุฏู

ููู ูุงฺฏโูุง ุณูุณูุฑ ุญุงูุง ุจูโุฌุง consoleุ **ูุณุชููุงู ุฏุฑ Debug Overlay** ููุงุด ุฏุงุฏู ูโุดููุฏ!

---

## ๐ฏ ฺฉุฌุง ูุงฺฏโูุง ุฑู ูโุจูุฏุ

### ุฏุฑ ุญุงูุช Development (`__DEV__`)

ููุช ุงูพ ุฑู ุฏุฑ ุญุงูุช Debug ุงุฌุฑุง ูโฺฉูุฏุ ุฏุฑ ฺฏูุดู ุจุงูุง ุณูุช ฺูพ ุตูุญู ฺฉ **Debug Overlay** ุณุงู ุฑูฺฏ ุธุงูุฑ ูุดู ฺฉู ุดุงูู:

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ ๐น Video Name (1/5)            โ
โ โฑ๏ธ Duration: 10s               โ
โ โณ Remaining: 8.5s             โ
โ โถ๏ธ PLAYING                     โ
โ โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ ๐ข Online (wifi)               โ
โ โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ ๐ฏ Sensor: โ Connected        โ
โ ๐ค Presence: โ YES            โ
โ ๐ Distance: 125cm             โ
โ ๐ Moving                      โ
โ โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ ๐ฆ Ready: 5/5                  โ
โ โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ ๐ SENSOR LOGS:                โ
โ [14:32:15] ๐ Attempting...   โ
โ [14:32:16] โ Sensor connected!โ
โ [14:32:16] Config: MaxGate=8  โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

## ๐จ ุฑูฺฏโุจูุฏ ูุงฺฏโูุง

ูุงฺฏโูุง ุจุฑ ุงุณุงุณ ููุนุ ุฑูฺฏโุจูุฏ ุดุฏูโุงูุฏ:

- ๐ข **Success** (ุณุจุฒ) - ุงุชุตุงู ููููุ ุฏุฑุงูุช config
- ๐ก **Warning** (ุฒุฑุฏ) - Retryุ Timeoutุ Buffer overflow
- ๐ด **Error** (ูุฑูุฒ) - ุฎุทุง ุงุชุตุงูุ Parsing error
- โช **Info** (ุฎุงฺฉุณุชุฑ) - ูุงฺฏโูุง ุนุงุฏ

---

## ๐ ุงููุงุน ูุงฺฏโูุง ููุงุด ุฏุงุฏู ุดุฏู

### 1๏ธโฃ **Connection Logs**
```
๐ Attempting to connect...
โ Sensor connected! (data received)
โ Connection failed: Permission denied
```

### 2๏ธโฃ **Configuration Logs**
```
Config: MaxGate=8, Duration=5s
```

### 3๏ธโฃ **Retry & Reconnection Logs**
```
๐ Retrying connection...
โ๏ธ No data for 60s, reconnecting...
```

### 4๏ธโฃ **Error Logs**
```
โ No data after 3s - sensor not available
โ Error parsing data packet: Invalid length
โ Buffer overflow #1 detected (2048 bytes)
```

### 5๏ธโฃ **Command Logs**
```
CMD Sent: FF000100
CMD Sent: 6100
CMD Sent: FE00
```

---

## ๐ ูุซุงูโูุง ูุงูุน

### โ ุงุชุตุงู ูููู
```
[14:30:00] ๐ Attempting to connect...
[14:30:01] Port Opened. Initializing... (Reconnect #1)
[14:30:01] CMD Sent: FF000100
[14:30:02] CMD Sent: 6100
[14:30:02] Config: MaxGate=8, Duration=5s
[14:30:02] CMD Sent: FE00
[14:30:03] โ Sensor connected! (data received)
```

### โ ุณูุณูุฑ ูุตู ูุณุช
```
[14:30:00] ๐ Attempting to connect...
[14:30:03] โ No data after 3s - sensor not available
[14:30:30] ๐ Retrying connection...
[14:30:33] โ No data after 3s - sensor not available
```

### โ๏ธ ูุดฺฉู Buffer Overflow
```
[14:32:45] โ๏ธ Buffer overflow #1 detected (2048 bytes), clearing...
[14:32:46] โ๏ธ Invalid payload length: 2048, skipping packet
[14:32:50] โ๏ธ Buffer overflow #2 detected (2048 bytes), clearing...
```

### ๐ Reconnection ุจุนุฏ ุงุฒ Timeout
```
[14:35:00] โ๏ธ No data for 60s, reconnecting...
[14:35:01] ๐ Attempting to connect...
[14:35:02] โ Sensor connected! (data received)
```

---

## ๐ฑ ฺฺฏููู ุงุณุชูุงุฏู ฺฉููุ

### ูุฑุญูู 1: Run in Debug Mode
```bash
npx expo start
# ุง
npm run android
```

### ูุฑุญูู 2: Debug Overlay ุฎูุฏฺฉุงุฑ ุธุงูุฑ ูุดู

ุฏุฑ ุญุงูุช `__DEV__`ุ overlay ุจู ุตูุฑุช ุฎูุฏฺฉุงุฑ ููุงุด ุฏุงุฏู ูุดู.

### ูุฑุญูู 3: ูุงูุชูุฑ ฺฉุฑุฏู ูุงฺฏโูุง

- **ุขุฎุฑู 10 ูุงฺฏ** ููุงุด ุฏุงุฏู ูโุดูุฏ
- ูุงฺฏโูุง ุจู ุตูุฑุช **ุฒูุงู ูุงูุน** ุขูพุฏุช ูุดู
- ุฑูฺฏโุจูุฏ ุจู ุดูุง ฺฉูฺฉ ูโฺฉูู ุณุฑุนโุชุฑ ูุดฺฉูุงุช ุฑู ูพุฏุง ฺฉูุฏ

---

## ๐ฏ ุจุฑุง Production

ุงฺฏุฑ ูโุฎูุงุฏ ูุงฺฏโูุง ุฑู ุฏุฑ **Production** ูู ุจุจูุฏ:

**ุฏุฑ `src/components/advertisement/Advertisement.tsx` ุฎุท 398:**
```typescript
{/* Debug Overlay */}
{true && (  // ุงุฒ __DEV__ ุจู true ุชุบุฑ ุจุฏุฏ
```

โ๏ธ **ุชูุฌู:** ุงู ฺฉุงุฑ ุชูุตู ููุดู ฺูู Debug Overlay ุฑู UX ุชุฃุซุฑ ูโุฐุงุฑู.

---

## ๐งช ุชุณุช ุฏุฑ Test Screen

ูโุชููุฏ ุงุฒ **Sensor Test Screen** ูู ุงุณุชูุงุฏู ฺฉูุฏ:

1. ุฑู **Clock** (ุณูุช ุฑุงุณุช) **3 ุจุงุฑ** tap ฺฉูุฏ
2. ุตูุญู Debug ุจุงุฒ ูุดู
3. ุฏฺฉูู **"5๏ธโฃ Connect Radar"** ุฑู ุจุฒูุฏ
4. ูุงฺฏโูุง ุฑู ุฏุฑ ูุณูุช **"LOGS"** ุจุจูุฏ

---

## ๐ ููุงุณู ูุจู ู ุจุนุฏ

### โ ูุจู:
```javascript
// ููู ูุงฺฏโูุง ููุท ุชู console
console.log('[Radar] Connecting...');
console.error('[RadarLogic] Error parsing packet');
```

**ูุดฺฉู:** ุจุงุฏ adb logcat ุจุงุฒ ฺฉูุฏ ู ุฏุณุช ุฌุณุชุฌู ฺฉูุฏ.

### โ ุจุนุฏ:
```typescript
// ูุงฺฏโูุง ูู ุฏุฑ console ู ูู ุฏุฑ UI
this.log('Connecting...', 'info');
this.log('Error parsing packet', 'error');
```

**ูุฒุช:** 
- โ ููุฒูุงู ุฏุฑ Console ู UI ููุงุด ุฏุงุฏู ูุดู
- โ ุฑูฺฏโุจูุฏ ุดุฏู ุจุฑุง ุณูููุช ุฎูุงูุฏู
- โ ููุชุฑ ุฎูุฏฺฉุงุฑ (ุขุฎุฑู 10 ูุงฺฏ)
- โ Real-time updates

---

## ๐ง Troubleshooting

### ูุงฺฏโูุง ููุงุด ุฏุงุฏู ููุดูุ

1. **ฺฺฉ ฺฉูุฏ ุฏุฑ ุญุงูุช Debug ูุณุชุฏ:**
   ```bash
   # ุจุงุฏ __DEV__ = true ุจุงุดู
   ```

2. **Debug Overlay ูุนุงู ุงุณุชุ**
   - ุจุงุฏ ฺฏูุดู ุจุงูุง ุณูุช ฺูพ ฺฉ ุจุงฺฉุณ ุณุงู ุจุจูุฏ

3. **ุณูุณูุฑ ูุชุตู ุงุณุชุ**
   - ุงฺฏู ุณูุณูุฑ ูุชุตู ูุจุงุดูุ ูุงฺฏโูุง connection ุธุงูุฑ ูุดู

### ูุงฺฏโูุง ุฎู ุณุฑุน scroll ูุดูุ

- ููุท **ุขุฎุฑู 10 ูุงฺฏ** ูฺฏู ุฏุงุดุชู ูุดู
- ูโุชููุฏ ุงู ุนุฏุฏ ุฑู ุชุบุฑ ุจุฏุฏ:

```typescript
// ุฏุฑ Advertisement.tsx ุฎุท 51
setSensorLogs(prev => [...prev, { ... }].slice(0, 20)); // ุจุฌุง 10ุ 20 ุจุฐุงุฑุฏ
```

---

## โ Checklist

- [x] ููู `console.log` ูุง ุจู `this.log()` ุชุจุฏู ุดุฏู
- [x] `useRadarSensor` ุญุงูุง `onLog` callback ุฏุงุฑู
- [x] ูุงฺฏโูุง ุฏุฑ `Advertisement.tsx` ููุงุด ุฏุงุฏู ูุดู
- [x] ุฑูฺฏโุจูุฏ ุจุฑ ุงุณุงุณ ููุน (error/warning/success)
- [x] ุขุฎุฑู 10 ูุงฺฏ ูฺฏู ุฏุงุดุชู ูุดู
- [x] Real-time updates

---

ูููู ุจุงุดุฏ! ๐

ุงฺฏุฑ ุณูุงู ุฏุงุฑุฏ ุง ูุดฺฉู ูพุด ุงููุฏุ ุจฺฏุฏ ุชุง ฺฉูฺฉุชูู ฺฉูู.
