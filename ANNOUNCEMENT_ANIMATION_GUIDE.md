# راهنمای انیمیشن اطلاعیه‌ها 🎬

سیستم notification با انیمیشن carousel - شبیه iPhone

---

## 🎯 نحوه کار:

### مرحله 1: نمایش اولیه
```
┌─────────────────────────────┐
│ 1. واریز پول       [✓]     │ ← Item 1
│ 2. فوری            [i]     │ ← Item 2  
│ 3. موفقیت          [✓]     │ ← Item 3
└─────────────────────────────┘
```

### مرحله 2: بعد از 5 ثانیه
```
Item 1 به آخر لیست میره
Item 4 از پایین می‌آد (scale: 0.8 → 1.0)

┌─────────────────────────────┐
│ 2. فوری            [i]     │ ← Item 2 (بالا رفت)
│ 3. موفقیت          [✓]     │ ← Item 3 (بالا رفت)
│ 4. هشدار           [⚠️]    │ ← Item 4 (جدید - scale up)
└─────────────────────────────┘
```

### مرحله 3: بعد از 5 ثانیه دیگه
```
Item 2 به آخر میره
Item 5 از پایین می‌آد

┌─────────────────────────────┐
│ 3. موفقیت          [✓]     │
│ 4. هشدار           [⚠️]    │
│ 5. اطلاعاتی        [i]     │ ← جدید
└─────────────────────────────┘
```

و به همین ترتیب دایره‌ای ادامه پیدا می‌کنه! 🔄

---

## ✨ انیمیشن‌ها:

### 1. **Scale Animation (کوچیک به بزرگ)**
```tsx
scale: 0.8 → 1.0 با spring effect (bouncy)
```

### 2. **Opacity Animation**
```tsx
opacity: 0 → 1 در 300ms
```

### 3. **Spring Config**
```tsx
damping: 15      // نرمی
stiffness: 150   // سرعت
```

این باعث میشه یک **bounce نرم** داشته باشه! 🎾

---

## 🎨 Type-Based Icons & Colors:

| Type | Icon | دایره Background | Icon Color | کاربرد |
|------|------|------------------|-----------|---------|
| `success` | ✓ | `#DCFFDC` | `#00D900` | موفقیت |
| `info` | ⓘ | `#FFF8DC` | `#ECBD00` | اطلاعات |
| `warning` | ⚠️ | `#FFE8DC` | `#FD5C02` | هشدار |
| `urgent` | ⚡ | `#FFE1E1` | `#FF3B30` | فوری |

---

## ⏱️ Timing:

- **5 ثانیه**: هر item ماندگاری دارد
- **400ms**: مدت زمان scale animation
- **300ms**: مدت زمان fade animation

---

## 🔄 Circular Rotation:

اگر 7 announcement دارید:
```
1 → 2 → 3 → 4 → 5 → 6 → 7 → 1 → 2 → ...
```

همیشه 3 تا نمایش داده میشه، و دونه دونه rotate میشه.

---

## 📱 Layout:

```
┌─────────────────────────────────────────┐
│ آخرین به‌روزرسانی: 2 دقیقه پیش   🔔 اطلاعیه ها │
├─────────────────────────────────────────┤
│                                           │
│ ┌─────────────────────────────────────┐ │
│ │ [🟢] واریز پول        9 بهمن     │ │ ← success
│ │      لطفا پول بچه ها رو...        │ │
│ └─────────────────────────────────────┘ │
│                                           │
│ ┌─────────────────────────────────────┐ │
│ │ [ⓘ] فوری              8 بهمن     │ │ ← info
│ │      این پیام برای حالت فوری...  │ │
│ └─────────────────────────────────────┘ │
│                                           │
│ ┌─────────────────────────────────────┐ │ ← این از پایین می‌آد
│ │ [⚠️] هشدار            7 بهمن     │ │   با scale 0.8→1.0
│ │      این پیام برای تست...         │ │
│ └─────────────────────────────────────┘ │
└─────────────────────────────────────────┘
```

---

## 🎬 Animation Flow:

```
Item جدید:
  scale: 0.8 (کوچیک)
    ↓ spring animation (400ms)
  scale: 1.0 (بزرگ) - با bounce نرم
  
  همزمان:
  opacity: 0
    ↓ fade animation (300ms)
  opacity: 1
```

---

## 💡 ویژگی‌های خاص:

1. **Auto-Stop**: اگر 3 تا یا کمتر announcement باشه، rotation نداره
2. **Smooth Spring**: استفاده از `withSpring` بجای `withTiming` برای bouncy effect
3. **Circular**: وقتی به آخر رسید، از اول شروع میشه
4. **Re-render Efficient**: فقط وقتی `announcement.id` تغییر کنه، animation اجرا میشه

---

## 🎯 Performance:

- ✅ استفاده از `useSharedValue` (runs on UI thread)
- ✅ استفاده از `withSpring` برای smooth animation
- ✅ Minimal re-renders
- ✅ Efficient state management

---

## 🔧 تنظیمات (قابل تغییر):

### تغییر زمان rotation:
```tsx
// در AnnouncementList.tsx
const timer = setInterval(() => {
    // ...
}, 5 * 1000); // 5 ثانیه ← می‌تونید تغییر بدید
```

### تغییر تعداد نمایش:
```tsx
// تعداد announcements نمایش داده شده
setDisplayedAnnouncements(filteredAnnouncements.slice(0, 3)); 
// ← از 3 به عدد دلخواه تغییر بدید
```

### تغییر سرعت animation:
```tsx
// Scale spring config
scale.value = withSpring(1, {
    damping: 15,      // کمتر = بیشتر bounce
    stiffness: 150,   // بیشتر = سریع‌تر
});
```

---

## ✅ تمام!

انیمیشن خیلی نرم و جذاب شد:
- ✅ دونه دونه rotate
- ✅ هر 5 ثانیه یکی
- ✅ Scale animation (کوچیک به بزرگ)
- ✅ Spring effect (bouncy)
- ✅ Type-based icons
- ✅ Circular rotation

**لذت ببرید!** 🎉
